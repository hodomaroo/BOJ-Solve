# [Diamond V] 그래프와 쿼리 - 16911 

[문제 링크](https://www.acmicpc.net/problem/16911) 

### 성능 요약

메모리: 245700 KB, 시간: 2400 ms

### 분류

자료 구조(data_structures), 분리 집합(disjoint_set), 분할 정복(divide_and_conquer), 그래프 이론(graphs), 오프라인 동적 연결성 판정(offline_dynamic_connectivity), 오프라인 쿼리(offline_queries)

### 문제 설명

<p>N개의 정점으로 이루어진 그래프 G가 있다. 가장 처음에 G에는 간선이 없다. 아래와 같은 쿼리를 수행해보자.</p>

<ul>
	<li>1 A B: 정점 A와 B를 연결하는 간선을 추가한다. 쿼리가 주어지기 전에 A와 B사이에는 간선이 없다.</li>
	<li>2 A B: 정점 A와 B를 연결하는 간선을 제거한다. 쿼리가 주어지기 전에 A와 B사이에는 간선이 있다.</li>
	<li>3 A B: 정점 A에서 B로 가는 경로가 있는지 없는지 조사한다. 있는 경우에는 1, 없는 경우에는 0을 출력한다.</li>
</ul>

<p>모든 A와 B는 1 ≤ A, B ≤ N, A ≠ B를 만족하고, 모든 간선은 방향이 없다.</p>

### 입력 

 <p>첫째 줄에 정점의 개수 N(2 ≤ N ≤ 100,000)과 쿼리의 개수 M(1 ≤ M ≤ 100,000)이 주어진다. 둘째 줄부터 M개의 줄에 쿼리가 한 줄에 하나씩 주어진다.</p>

### 출력 

 <p>3번 쿼리의 결과를 한 줄에 하나씩 출력한다.</p>

